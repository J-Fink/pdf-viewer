<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulletin Archive</title>
</head>
<body>
    <style type="text/css">
        li{
            list-style: none;
            width: fit-content;
        }
        
        /* li:hover{
            color: blue;
            cursor: pointer;
        } */
        .bulletin:hover{
            color: blue;
            cursor: pointer;
            text-decoration: underline;
        }
       .external-page{
           color: black;
           text-decoration: none;
        }
       .external-page:hover{
            color: blue;
            cursor: pointer;
            text-decoration: underline;
        }
        h3{
            margin-bottom: 0px;
        }
        </style>
        <h2>Bulletin From:<span id="selected-bulletin"></span></h2>
        <div class="iframe-wrapper">
            <iframe allowfullscreen="true" id="pdf" class="pdf-viewer" frameborder="0" height="578" scrolling="yes" src="/sites/default/files/files/20200517B.pdf" style="float: left;" width="748"></iframe>
        </div>
        <ul>
            <li><h3>Bulletin Archives:</h3></li>
            <li><span class="bulletin" data-link="/sites/default/files/files/20200517B.pdf">May 17, 2020 </span><span class="new-page"><a class="external-page" target="_blank" href="">open in new page</a></span>
            </li>
            <li><span class="bulletin" data-link="/sites/default/files/files/2020-05-10.pdf">May 10, 2020 </span><span class="new-page"><a class="external-page" target="_blank" href="">open in new page</a></span>
            </li>
            <li><span class="bulletin" data-link="/sites/default/files/files/20200503B.pdf">May 3, 2020 </span><span class="new-page"><a class="external-page" target="_blank" href="">open in new page</a></span>
            <li><span class="bulletin" data-link="/sites/default/files/files/20200426B.pdf">April 26, 2020 </span><span class="new-page"><a class="external-page" target="_blank" href="">open in new page</a></span>
            </li>
            <li><span class="bulletin" data-link="/sites/default/files/files/20200419B.pdf">April 19, 2020 </span><span class="new-page"><a class="external-page" target="_blank" href="">open in new page</a></span>
            </li>
            <li><span class="bulletin" data-link="/sites/default/files/files/20200412B.pdf">April 12, 2020 </span><span class="new-page"><a class="external-page" target="_blank" href="">open in new page</a></span>
            </li>
            <li><span class="bulletin" data-link="/sites/default/files/files/2020-04-05.pdf">April 5, 2020 </span><span class="new-page"><a class="external-page" target="_blank" href="">open in new page</a></span>
            </li>
            <li><span class="bulletin" data-link="/sites/default/files/files/20200329B.pdf">March 29, 2020 </span><span class="new-page"><a class="external-page" target="_blank" href="">open in new page</a></span>
            </li>
           
            
        </ul>
        <script>
            let bulletin = document.getElementsByClassName("bulletin"); //clickable pieces that when clicked change the iframe to the clicked pdf
            let external = document.getElementsByClassName("external-page"); //clickable pieces that when clicked open a new tab and show a full page of that pdf
            let bulletinIframe = document.getElementById("pdf"); //the iframe that shows the currently selected bulletin
            let selectedBulletin = document.getElementById("selected-bulletin");
            addClick(bulletin);
            externalPage(external);
            
            function externalPage(array){
                for (let i = 0; i < array.length; i++) {
                    const element = array[i];
                    element.addEventListener("click", function(){
                        let link = bulletin[i].attributes['data-link'].value;
                        element.href = "http://www.cathedralsaintpaul.org" + link;
                    });
                };
            };
            function addClick(array){
                selectedBulletin.innerHTML = " " + bulletin[0].innerHTML;
                bulletinIframe.src = "http://www.cathedralsaintpaul.org" + bulletin[0].attributes['data-link'].value;
                for (let i = 0; i < array.length; i++) {
                    const element = array[i];
                    element.addEventListener("click", function(){
                let link = element.attributes['data-link'].value;
                bulletinIframe.src = "http://www.cathedralsaintpaul.org" + link;
                selectedBulletin.innerHTML = " " + bulletin[i].innerHTML;
            });};
            };

        </script>
</body>
</html>